[Tests]
  design = 'MeshGenerator.md'
  issues = '#29095'
  requirement = 'The system shall support Constructive Solid Geometry (CSG) generation of meshes using --csg-only mode using a MOOSE mesh input file by correctly constructing a CSG model and '

  [csg_only_chained]
    type = 'JSONDiff'
    input = 'csg_only_chained.i'
    cli_args = '--csg-only'
    jsondiff = 'csg_only_chained_out_csg.json'
    recover = false
    mesh_mode = REPLICATED
    detail = 'passing a single CSGBase object between MeshGenerators to be updated'
  []
  [csg_only_multi_universes]
    type = 'JSONDiff'
    input = 'csg_full_geom.i'
    cli_args = '--csg-only'
    jsondiff = 'csg_full_geom_out_csg.json'
    recover = false
    mesh_mode = REPLICATED
    detail = 'joining multiple CSGBase objects to create one object with multiple universes'
  []
  [csg_only_final_generator]
    type = 'JSONDiff'
    input = 'csg_only_chained.i'
    cli_args = 'Mesh/final_generator=inf_square --csg-only csg_only_inf_planes_out_csg.json'
    jsondiff = 'csg_only_inf_planes_out_csg.json'
    recover = false
    mesh_mode = REPLICATED
    detail = 'specifying a final generator to create a CSGBase object for an intermediate generator'
  []
  [all_region_types]
    type = 'JSONDiff'
    input = 'csg_only_region_types.i'
    cli_args = '--csg-only'
    jsondiff = 'csg_only_region_types_out_csg.json'
    recover = false
    mesh_mode = REPLICATED
    detail = 'correctly defining regions as a combination of halfspaces, intersections, unions, and complements'
  []

  [errors]
    requirement = 'The system shall report an error when generating a mesh in CSG only mode when'
    [distributed_mesh]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with distributed mesh command line option'
      cli_args = '--distributed-mesh --csg-only'
      expect_err = "--csg-only cannot be used in conjunction with --distributed-mesh"
    []
    [split_mesh]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with split mesh command line option'
      cli_args = '--split-mesh split_mesh --csg-only'
      expect_err = "--csg-only is not compatible with any mesh splitting options"
      mesh_mode = REPLICATED
    []
    [use_split]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with use split command line option'
      cli_args = '--use-split --csg-only'
      expect_err = "--csg-only is not compatible with any mesh splitting options"
      mesh_mode = REPLICATED
    []
    [split_file]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with split file command line option'
      cli_args = '--split-file split_file --csg-only'
      expect_err = "--csg-only is not compatible with any mesh splitting options"
      mesh_mode = REPLICATED
    []
    [refinements]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with mesh refinements command line option'
      cli_args = '-r 5 --csg-only'
      expect_err = "--csg-only cannot be used in conjunction with -r refinements option"
      mesh_mode = REPLICATED
    []
    [recover]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with recovery command line option'
      cli_args = '--recover --csg-only'
      expect_err = "--csg-only option cannot be used in recovery mode"
      mesh_mode = REPLICATED
    []
  []
[]
