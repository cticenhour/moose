[Tests]
  design = 'MeshGenerator.md'
  issues = '#29095'
  requirement = 'The system shall support Constructive Solid Geometry (CSG) generation of meshes using --csg-only mode using a MOOSE mesh input file by '

  [csg_only]
    type = 'JSONDiff'
    input = 'csg_only_inf_planes.i'
    cli_args = '--csg-only'
    jsondiff = 'csg_only_inf_planes_out_csg.json'
    recover = false
    mesh_mode = REPLICATED
    detail = 'correctly constructing planes from 3 points'
  []
  [csg_only_chained]
    type = 'JSONDiff'
    input = 'csg_only_chained.i'
    cli_args = '--csg-only'
    jsondiff = 'csg_only_chained_out_csg.json'
    recover = false
    mesh_mode = REPLICATED
    detail = 'passing a single CSGBase object between MeshGenerators to be updated'
  []
  [csg_only_sphere_origin]
    type = 'JSONDiff'
    input = 'csg_only_sphere_origin.i'
    cli_args = '--csg-only'
    jsondiff = 'csg_only_sphere_origin_out_csg.json'
    recover = false
    mesh_mode = REPLICATED
    detail = 'correctly constructing a sphere at the origin when no center is provided'
  []
  [csg_only_sphere_point]
    type = 'JSONDiff'
    input = 'csg_only_sphere_point.i'
    cli_args = '--csg-only'
    jsondiff = 'csg_only_sphere_point_out_csg.json'
    recover = false
    mesh_mode = REPLICATED
    detail = 'correctly constructing a sphere at a specified point'
  []
  [csg_only_sphere_xyz]
    type = 'JSONDiff'
    input = 'csg_only_sphere_xyz.i'
    cli_args = '--csg-only'
    jsondiff = 'csg_only_sphere_xyz_out_csg.json'
    recover = false
    mesh_mode = REPLICATED
    detail = 'correctly constructing a sphere at a specified (x, y, z) coordinate'
  []

  [errors]
    requirement = 'The system shall report an error when generating a mesh in CSG only mode when'
    [distributed_mesh]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with distributed mesh command line option'
      cli_args = '--distributed-mesh --csg-only'
      expect_err = "--csg-only cannot be used in conjunction with --distributed-mesh"
    []
    [split_mesh]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with split mesh command line option'
      cli_args = '--split-mesh split_mesh --csg-only'
      expect_err = "--csg-only is not compatible with any mesh splitting options"
      mesh_mode = REPLICATED
    []
    [use_split]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with use split command line option'
      cli_args = '--use-split --csg-only'
      expect_err = "--csg-only is not compatible with any mesh splitting options"
      mesh_mode = REPLICATED
    []
    [split_file]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with split file command line option'
      cli_args = '--split-file split_file --csg-only'
      expect_err = "--csg-only is not compatible with any mesh splitting options"
      mesh_mode = REPLICATED
    []
    [refinements]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with mesh refinements command line option'
      cli_args = '-r 5 --csg-only'
      expect_err = "--csg-only cannot be used in conjunction with -r refinements option"
      mesh_mode = REPLICATED
    []
    [recover]
      type = RunException
      input = 'csg_only_inf_planes.i'
      detail = ' used in conjunction with recovery command line option'
      cli_args = '--recover --csg-only'
      expect_err = "--csg-only option cannot be used in recovery mode"
      mesh_mode = REPLICATED
    []
  []
[]
