# CutMeshByLevelSetGenerator

!syntax description /Mesh/CutMeshByLevelSetGenerator

## Overview

The `CutMeshByLevelSetGenerator` is an extended version of [`CutMeshByPlaneGenerator`](/CutMeshByPlaneGenerator.md). It is used to trim a 3D input mesh based on a given level set `f(x,y,z)=0`. The portion of the input mesh that is within the level set (i.e., `f(x,y,z)<=0`) is retained, while the portion of the input mesh that is outside the level set (i.e., `f(x,y,z)>0`) is discarded. The input mesh, given by [!param](/Mesh/CutMeshByLevelSetGenerator/input), must be 3D and contain only first-order elements. The level set is specified by [!param](/Mesh/CutMeshByLevelSetGenerator/level_set), which can be interpreted by `FParser` as a function of `x`, `y`, and `z` (i.e., `f(x,y,z)`). As each element that is across the cutting level set is cut based on the interception points, this mesh generator ensures a smooth cut instead of a "zigzag" cut along element boundaries.

Using this mesh generator, a 3D structured mesh defined by a bounding box (e.g., generated by [`GeneratedMeshGenerator`](/GeneratedMeshGenerator.md)) can be subtracted into a 3D mesh with its shape define by a given level set.

## Methods

!media framework/meshgenerators/ls_cut_transition.png
       style=display: block;margin-left:auto;margin-right:auto;width:75%;
       id=ls_cut_transition
       caption=Example of cutting a cube mesh consisting of `HEX8` elements using a spherical level set. From left to right: (1) mesh after the cutting without the transition layer; (2) mesh after the cutting with the transition layer; (3-5) detailed breakdown of the mesh cut with the transition layer.

`CutMeshByLevelSetGenerator` first either converts all elements of the input mesh into `TET4` elements, or converts the elements crossed by the level set into `TET4` elements along with a transition layer that consists of `TET4` and `PYRAMID5` elements. Next, the `TET4` elements sliced by the level set are further split into `TET4` elements. 

This mesh generator uses exactly the same algorithm as its sibling mesh generator, [`CutMeshByPlaneGenerator`](/CutMeshByPlaneGenerator.md). At the first-order element level, cutting by a plane and cutting by a level set are the same. See [ls_cut_transition] for an example. Refer to [`CutMeshByPlaneGenerator`](/CutMeshByPlaneGenerator.md) for advanced options and details.

## Example Syntax

!listing test/tests/meshgenerators/cut_mesh_by_level_set_generator/simple_cut.i block=Mesh/lsc

!syntax parameters /Mesh/CutMeshByLevelSetGenerator

!syntax inputs /Mesh/CutMeshByLevelSetGenerator

!syntax children /Mesh/CutMeshByLevelSetGenerator

